language: python
python:
- '2.7'
before_install:
- ./travis/install-terraform.sh
- pip install awscli
- export PATH=$PATH:$HOME/terraform
install:
- pip -v install -r requirements-dev.txt
- pip -v install -r requirements.txt
- pip -v install .
script:
- ./travis/build.sh
branches:
  only:
  - master
  - next
  - prod
cache:
- pip
- directories:
  - $HOME/virtualenv
  - $HOME/.cache/pip
  - $HOME/terraform
env:
  global:
  - AWS_ACCESS_KEY_ID: AKIA2AV2YTL6SUSQP56W
  # AWS_SECRET_ACCESS_KEY, /geodesy-operations/iam-user/travis-ci/access-key/AKIA2AV2YTL6SUSQP56W/secret-access-key
  - secure: rK8M1gmoFIMs+iwOXJllrFGu7hLL8dcYoW1nSFEJ9/sZKA8uPL2O0OiSp8RSIV39a08/4SEdba1PhbCiYD7gxDXMg4i6y1l6cwyr1KGnaLEd6CnpZjul63lrIS4HvDxGUFFbu25wjT3p+g6RpLtFeTsQ82AXRT8U5Lx1sqEDfDQUy/mZ7JFts5U8c9brnG8pmTCGip61L1C2uXstIkMFmforEgr7MlMiCRpvLeMvq8tVUiNcqVgpkWY6yXqABhsWoB3bo10hL1vZ2mEoY8q4AIFmLVO0OpdZa4GaiEI4qYLfwEZLHLZeO0EEbTm+arxTEA21RoTWajEkBzItkLvvdgJMYQQJ8vWN5veC0/dr9apCuYUR/1Zzh+lBgOyMtFyL2GGdeC86J0ihw6eFB07QXphjNKyTAb2jqumssjEj4C1d+0JbIlSK4xLkUVih6svbNv0zNOUp4be9InIFUJg0HO3faCkbSVasHm2V17N/ldO/pOL0weYy+VSxbJ+mXVkPMaZI6waMVJfJ7kH0I0QxTdm9zkh3yQydThnDUY6uC9G40kY0avq0ZU14ASlSlNCibRI6HvmBdQWpO9dlYhGi/j4jZfmsj1VxMNE0yFDHFBtbaZrDaShzET0GawTAk4oB7+2/Lx8+JaEv9R/1bioRDRaAkwpo1zuQTSwYAU55IPU=
  - AWS_ACCESS_KEY_ID_PROD: AKIAZCGYKSL2ASSA5W7A
  # AWS_SECRET_ACCESS_KEY_PROD, /geodesy-operations-prod/iam-user/travis-ci/access-key/AKIAZCGYKSL2ASSA5W7A/secret-access-key
  - secure: o2zPJ+iuhFyD4Aet/D8nMpVXUUAlz2jmTPxiCu2INkU6i2qBxVNsVJfQmO/qyq/Kb4Jt+WDZZLZDUa3yeVDEgMs+zEpxgfFPPIBrD+xZxWw+3dYvxDdTJzOaJuXOLeIwBLVURe6VKKI1KAgkNpLfAqJN/hoBVJGowpKCyUlP81CPilJtu3GnShOMoMrhPkS+1MKVqGpiPiHLEOulukEOwStnKd3iIsqNFbb+Md2hG2BejwMffIuTe5Z7YgPQotOL85LRnKm5gFI7lzUpEorgN8vglAn+mHZ1felBGxU5MCTmKWx+vxIowddDoZZHLFR0fbHAl9WU/tlQJyVo/Wbs2h+dS6HrR9D3V3KsLuGb2w71cfI6FxuhmrWTP4bt5MhIhYSisAGzWM4cjcUnZlcy5xIhZo01SWSTtL5joABVt23QHHbCrdNU5Zrq2TKzLdP/ilS9fKGujrq72bSG/qILwCG0rU/AtrJ6htUkFJLQPTc2eNhSC8PGbMVH5BVFmk6n9cIaw+Nkfprjb91NePmdE5lTAYC58T4t0/TFFCQ937Lqs88TG629gbAetYCwzIvLkB8W+OFqbVcRbsd2KbKLvi/lq8sTk9r0kSBCXVeIs3QYbYsma6NKry60KvSLlqMSQdSFtJraS4LCjn926vUtrsPW0zNA5FZ2EUZR3uirBVk=
